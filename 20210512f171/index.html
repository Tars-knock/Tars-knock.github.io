<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/batman.png"><link rel="icon" href="/img/batman.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="description" content="UnionFind Set"><meta name="author" content="Tars-knock"><meta name="keywords" content="æŠ€æœ¯ç¬”è®° æ—¥å¸¸éšç¬”"><title>å¹¶æŸ¥é›† - Tars Blog</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"www.tars-knock.cn",root:"/",version:"1.8.10",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:"000c8623e418a244bb21d401c84cbfc3",google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"zldqPvhiQPhi7OHlqIQKsssf-gzGzoHsz",app_key:"seqt5G6b8y8z6p0zo03uR31L",server_url:"https://zldqpvhi.lc-cn-n1-shared.com"}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:45vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>Tars blog</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> é¦–é¡µ</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> æ–‡ç« </a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/"><i class="iconfont icon-archive-fill"></i> å½’æ¡£ </a><a class="dropdown-item" href="/categories/"><i class="iconfont icon-category-fill"></i> åˆ†ç±» </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-tags-fill"></i> æ ‡ç­¾</a></div></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> å‹é“¾</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> å…³äº</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/img/sfln.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="å¹¶æŸ¥é›†"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-05-12 22:07" pubdate>2021å¹´5æœˆ12æ—¥ æ™šä¸Š</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 1.7k å­— </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> æ¬¡</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">å¹¶æŸ¥é›†</h1><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2 ä¸ªæœˆå‰</p><div class="markdown-body"><h1 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h1><p>å¹¶æŸ¥é›†æ˜¯ä¸€ç§æ ‘å½¢çš„<strong>æ•°æ®ç»“æ„</strong>ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒç”¨äºå¤„ç†ä¸€äº›ä¸äº¤é›†çš„ <strong>åˆå¹¶</strong> åŠ <strong>æŸ¥è¯¢</strong> é—®é¢˜ã€‚ å®ƒæ”¯æŒä¸¤ç§æ“ä½œï¼š</p><ul><li><a href="#h3">æŸ¥æ‰¾ï¼ˆFindï¼‰ï¼šç¡®å®šæŸä¸ªå…ƒç´ å¤„äºå“ªä¸ªå­é›†ï¼›</a></li><li><a href="#bing">åˆå¹¶ï¼ˆUnionï¼‰ï¼šå°†ä¸¤ä¸ªå­é›†åˆå¹¶æˆä¸€ä¸ªé›†åˆã€‚</a></li></ul><h2 id="é€‚ç”¨å¹¶æŸ¥é›†çš„æƒ…å†µ"><a href="#é€‚ç”¨å¹¶æŸ¥é›†çš„æƒ…å†µ" class="headerlink" title="é€‚ç”¨å¹¶æŸ¥é›†çš„æƒ…å†µ"></a>é€‚ç”¨å¹¶æŸ¥é›†çš„æƒ…å†µ</h2><p>å·²çŸ¥ä¸€å †å¶å­ï¼ŒåªçŸ¥é“æ¯ä¸ªå¶å­çš„çˆ¶èŠ‚ç‚¹ã€‚å¦‚ä½•æŸ¥æ‰¾æ¯ä¸ªå¶å­çš„ç¥–å…ˆèŠ‚ç‚¹(åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦å±äºåŒä¸€é›†åˆï¼‰ï¼›å¦‚ä½•å°†æ‰€æœ‰å¶å­åˆå¹¶è¿›ä¸€æ£µæ ‘ã€‚<br>è¿™ç§é—®é¢˜å°±é€‚åˆä½¿ç”¨å¹¶æŸ¥é›†è¿›è¡Œå¶å­çš„æ•´ç†ï¼ŒæŸ¥æ‰¾æ¯ä¸ªå¶å­ç©¶ç«Ÿå±äºå“ªä¸€æ£µæ ‘ã€‚</p><p>æ–¹ä¾¿èµ·è§ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥å‚¨å­˜æ¯ä¸ªå¶å­èŠ‚ç‚¹æå…¶çˆ¶èŠ‚ç‚¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span>[] parent;  parent[a] = b; <span class="hljs-comment">//ä»£è¡¨açš„çˆ¶äº²èŠ‚ç‚¹æ˜¯bï¼Œå¹¶è§„å®šç¥–å…ˆçš„çˆ¶äº²èŠ‚ç‚¹æ˜¯è‡ªå·±ã€‚ </span><br></code></pre></td></tr></table></figure><p>å†è´´ä¸€ä¸ªæ¥è‡ª<a target="_blank" rel="noopener" href="https://oi-wiki.org/ds/dsu/">OI-wiki</a>çš„æ¥åœ°æ°”è§£é‡Š</p><blockquote><p>é€šä¿—åœ°è®²ä¸€ä¸ªæ•…äº‹ï¼šå‡ ä¸ªå®¶æ—è¿›è¡Œå®´ä¼šï¼Œä½†æ˜¯å®¶æ—æ™®éé•¿å¯¿ï¼Œæ‰€ä»¥äººæ•°ä¼—å¤šã€‚ç”±äºé•¿æ—¶é—´çš„åˆ†ç¦»ä»¥åŠå¹´é¾„çš„å¢é•¿ï¼Œè¿™äº›äººé€æ¸å¿˜æ‰äº†è‡ªå·±çš„äº²äººï¼Œåªè®°å¾—è‡ªå·±çš„çˆ¸çˆ¸æ˜¯è°äº†ï¼Œè€Œæœ€é•¿è€…ï¼ˆç§°ä¸ºã€Œç¥–å…ˆã€ï¼‰çš„çˆ¶äº²å·²ç»å»ä¸–ï¼Œä»–åªçŸ¥é“è‡ªå·±æ˜¯ç¥–å…ˆã€‚</p><p>å®´ä¼šä¸Šï¼Œä¸€ä¸ªå®¶æ—çš„ç¥–å…ˆçªç„¶å¯¹å¦ä¸€ä¸ªå®¶æ—è¯´ï¼šæˆ‘ä»¬ä¸¤ä¸ªå®¶æ—äº¤æƒ…è¿™ä¹ˆå¥½ï¼Œä¸å¦‚åˆæˆä¸€å®¶å¥½äº†ã€‚å¦ä¸€ä¸ªå®¶æ—ä¹Ÿæ¬£ç„¶æ¥å—äº†ã€‚</p></blockquote><h2 id="å¹¶æŸ¥é›†çš„â€œæŸ¥â€"><a href="#å¹¶æŸ¥é›†çš„â€œæŸ¥â€" class="headerlink" title="å¹¶æŸ¥é›†çš„â€œæŸ¥â€"></a>å¹¶æŸ¥é›†çš„â€œæŸ¥â€</h2><div id="h3"><p>è§£å†³æ–¹æ³•å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾æƒ³ï¼Œåªè¦ä¸€ä¸ªä¸€ä¸ªå¶å­å¾€å‰æ¨ï¼Œç›´åˆ°æ‰¾åˆ°ç¥–å…ˆå¶å­ä¸ºæ­¢ã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨é€’å½’æ€æƒ³ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span>[] parent;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>  <span class="hljs-comment">// å¯»æ‰¾xçš„ç¥–å…ˆ</span><br>  <span class="hljs-keyword">if</span> (parent[x] == x)  <span class="hljs-comment">// å¦‚æœxæ˜¯ç¥–å…ˆåˆ™è¿”å›</span><br>    <span class="hljs-keyword">return</span> x;<br>  <span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">return</span> find(parent[x]);  <span class="hljs-comment">// å¦‚æœä¸æ˜¯åˆ™xçš„çˆ¸çˆ¸é—®xçš„çˆ·çˆ·</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è·¯å¾„å‹ç¼©"><a href="#è·¯å¾„å‹ç¼©" class="headerlink" title="è·¯å¾„å‹ç¼©"></a>è·¯å¾„å‹ç¼©</h3><p>ä¸Šé¢çš„æŸ¥ç¡®å®å¯ä»¥æŸ¥æ‰¾åˆ°ç¥–å…ˆï¼Œä½†æ˜¯è¦ç»è¿‡æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹ï¼Œæ•ˆç‡æ˜æ˜¾ä¸é«˜ã€‚æ‰€ä»¥å¦‚æœåªæƒ³æ‰¾åˆ°æ¯ä¸ªå¶å­çš„ç¥–å…ˆï¼Œåªéœ€è¦æ¯ä¸ªå¶å­éƒ½æˆä¸ºç¥–å…ˆçš„ç›´æ¥å­èŠ‚ç‚¹ï¼Œå³parent[a]ç›´æ¥å‚¨å­˜açš„ç¥–å…ˆï¼Œè¿™æ ·å°±å¯ä»¥è¾¾åˆ°è·¯å¾„å‹ç¼©å‡å°æ—¶é—´å¤æ‚åº¦çš„ç›®çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span>[] parent;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>  <span class="hljs-comment">// å¯»æ‰¾xçš„ç¥–å…ˆ</span><br>  <span class="hljs-keyword">if</span> (parent[x] == x)&#123;  <span class="hljs-comment">// å¦‚æœxæ˜¯ç¥–å…ˆåˆ™è¿”å›	</span><br>    <span class="hljs-keyword">return</span> x;<br>  &#125;<br>  <span class="hljs-keyword">else</span>&#123;<br>    parent[x] = find(parent[x]);  <span class="hljs-comment">// æŸ¥æ‰¾xçš„ç¥–å…ˆç›´åˆ°æ‰¾åˆ°ä»£è¡¨,é¡ºæ‰‹è·¯å¾„å‹ç¼©</span><br>    <span class="hljs-keyword">return</span> find(parent[x]);  <span class="hljs-comment">// å¦‚æœä¸æ˜¯åˆ™xçš„çˆ¸çˆ¸é—®xçš„çˆ·çˆ·</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¹¶æŸ¥é›†çš„â€œå¹¶â€"><a href="#å¹¶æŸ¥é›†çš„â€œå¹¶â€" class="headerlink" title="å¹¶æŸ¥é›†çš„â€œå¹¶â€"></a>å¹¶æŸ¥é›†çš„â€œå¹¶â€</h2><div id="bing"><p>å°†å·²çŸ¥çš„å‡ æ£µæ ‘åˆåœ¨ä¸€èµ·æˆä¸ºä¸€æ£µæ ‘ï¼Œæœ€ç®€å•ç²—æš´çš„æ–¹æ³•å°±æ˜¯ä½¿ä¸€æ£µæ ‘çš„ç¥–å…ˆèŠ‚ç‚¹æˆä¸ºå¦ä¸€æ£µæ ‘ç¥–å…ˆèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">unionSet</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>&#123;<br>  <span class="hljs-comment">// x ä¸ y æ‰€åœ¨æ ‘åˆå¹¶</span><br>  x = find(x);<br>  y = find(y);<br>  parent[x] = y;  <span class="hljs-comment">// æŠŠ x çš„ç¥–å…ˆå˜æˆ y çš„ç¥–å…ˆçš„å„¿å­</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å¯å‘å¼åˆå¹¶ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰"><a href="#å¯å‘å¼åˆå¹¶ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰" class="headerlink" title="å¯å‘å¼åˆå¹¶ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰"></a>å¯å‘å¼åˆå¹¶ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰</h3><p>å› ä¸ºå¹¶æŸ¥é›†è¿™ä¸ªæ•°æ®ç»“æ„åªæ”¯æŒé›†åˆçš„åˆå¹¶ä¸æŸ¥è¯¢æ“ä½œï¼Œæ‰€ä»¥åˆå¹¶æ—¶é€‰æ‹©å°†ç‚¹æ•°æ›´å°‘æ·±åº¦æ›´å°çš„æ ‘ç§»åŠ¨ä¸ºå…¶ä»–æ ‘çš„å­—æ•°å¯ä»¥ä½¿å¾—æŸ¥æ‰¾æ—¶çš„æœ€åæ—¶é—´å¤æ‚åº¦æ›´ä½ã€‚</p><p>å½“ç„¶å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡éƒ½èƒ½æ‰¾åˆ°ç‚¹æ•°æ—¢æ˜¯æœ€å°æ·±åº¦åˆæ˜¯æœ€å°çš„æ ‘ï¼Œåªèƒ½ä½¿ç”¨ä¸€ä¸ªç‰¹å¾ä½œä¸ºé€‰å–ç§»åŠ¨æ ‘çš„å‚è€ƒã€‚</p><p>ã€‚ã€‚ã€‚ã€‚ã€‚åç»­å¾…è¡¥å……</p><h2 id="java-ä¸­çš„å¹¶æŸ¥é›†"><a href="#java-ä¸­çš„å¹¶æŸ¥é›†" class="headerlink" title="java ä¸­çš„å¹¶æŸ¥é›†"></a>java ä¸­çš„å¹¶æŸ¥é›†</h2><p>Javaå˜›ï¼Œé¢å‘å¯¹è±¡è¯­è¨€ï¼Œè¿™ç§æ•°æ®ç»“æ„å¿…ç„¶å¾—ç»™ä»–å°è£…æˆä¸€ä¸ªç±»æ—¥åç”¨èµ·æ¥æ‰æ–¹ä¾¿ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span> </span>&#123;<br>    <span class="hljs-keyword">int</span>[] parent;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UnionFind</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>        parent = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            parent[i] = i;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index1, <span class="hljs-keyword">int</span> index2)</span> </span>&#123;<br>        parent[find(index2)] = find(index1);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (parent[index] != index) &#123;<br>            parent[index] = find(parent[index]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> parent[index];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç»å…¸ä¾‹é¢˜"><a href="#ç»å…¸ä¾‹é¢˜" class="headerlink" title="ç»å…¸ä¾‹é¢˜"></a>ç»å…¸ä¾‹é¢˜</h2><p>å†—ä½™è¿æ¥</p><blockquote><p>åœ¨æœ¬é—®é¢˜ä¸­, æ ‘æŒ‡çš„æ˜¯ä¸€ä¸ªè¿é€šä¸”æ— ç¯çš„æ— å‘å›¾ã€‚</p><p>è¾“å…¥ä¸€ä¸ªå›¾ï¼Œè¯¥å›¾ç”±ä¸€ä¸ªæœ‰ç€Nä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ä¸é‡å¤1, 2, â€¦, N) çš„æ ‘åŠä¸€æ¡é™„åŠ çš„è¾¹æ„æˆã€‚é™„åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨1åˆ°Nä¸­é—´ï¼Œè¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚</p><p>ç»“æœå›¾æ˜¯ä¸€ä¸ªä»¥è¾¹ç»„æˆçš„äºŒç»´æ•°ç»„ã€‚æ¯ä¸€ä¸ªè¾¹çš„å…ƒç´ æ˜¯ä¸€å¯¹[u, v] ï¼Œæ»¡è¶³ u &lt; vï¼Œè¡¨ç¤ºè¿æ¥é¡¶ç‚¹u å’Œvçš„æ— å‘å›¾çš„è¾¹ã€‚</p><p>è¿”å›ä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œä½¿å¾—ç»“æœå›¾æ˜¯ä¸€ä¸ªæœ‰ç€Nä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›äºŒç»´æ•°ç»„ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚ç­”æ¡ˆè¾¹ [u, v] åº”æ»¡è¶³ç›¸åŒçš„æ ¼å¼ u &lt; vã€‚</p><p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/redundant-connection">https://leetcode-cn.com/problems/redundant-connection</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote><p>ç¤ºä¾‹ 1ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">è¾“å…¥: [[1,2], [1,3], [2,3]]<br>è¾“å‡º: [2,3]<br>è§£é‡Š: ç»™å®šçš„æ— å‘å›¾ä¸º:<br>  1<br> / \<br>2 - 3<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ 2ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">è¾“å…¥: [[1,2], [2,3], [3,4], [1,4], [1,5]]<br>è¾“å‡º: [1,4]<br>è§£é‡Š: ç»™å®šçš„æ— å‘å›¾ä¸º:<br>5 - 1 - 2<br>    |   |<br>    4 - 3<br></code></pre></td></tr></table></figure><p>æ³¨æ„:</p><pre><code>è¾“å…¥çš„äºŒç»´æ•°ç»„å¤§å°åœ¨ 3 åˆ° 1000ã€‚
äºŒç»´æ•°ç»„ä¸­çš„æ•´æ•°åœ¨1åˆ°Nä¹‹é—´ï¼Œå…¶ä¸­Næ˜¯è¾“å…¥æ•°ç»„çš„å¤§å°ã€‚
</code></pre><h3 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] findRedundantConnection(<span class="hljs-keyword">int</span>[][] edges) &#123;<br>        <span class="hljs-keyword">int</span>[] parent = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[edges.length+<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i&lt;edges.length+<span class="hljs-number">1</span>;i++)    parent[i] = i;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;edges.length;i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(find(parent, edges[i][<span class="hljs-number">0</span>])!= find(parent, edges[i][<span class="hljs-number">1</span>]))<br>                <span class="hljs-comment">//åœ¨å†—ä½™çš„è¾¹å‡ºç°ä¹‹å‰ï¼Œä¸¤ä¸ªç‚¹å·²ç»å‡ºç°åœ¨åŒä¸€é›†åˆäº†</span><br>            &#123;<br>                union(parent, edges[i][<span class="hljs-number">0</span>], edges[i][<span class="hljs-number">1</span>]);<br>            &#125;<br>            <span class="hljs-comment">//å¦‚æœä¸€ä¸ªè¾¹çš„ä¸¤ä¸ªç«¯ç‚¹å·²ç»æ˜¯åŒä¸€é›†åˆçš„äº†ï¼Œè¿™æ¡è¾¹å°±æ˜¯å¤šä½™çš„ï¼Œè¿”å›</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> edges[i];<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    &#125;<br>    <span class="hljs-comment">//**</span><br>    è¿™ä¸ªæ–¹æ³•å°±æ˜¯å¹¶æŸ¥é›†å½“ä¸­çš„â€œæŸ¥â€ï¼ŒæŸ¥æ‰¾ç¥–å…ˆå¹¶è¿”å›ï¼›<br>    å…¶ä¸­<span class="hljs-keyword">else</span>ä¸­çš„è¯­å¥è¿˜é¡ºä¾¿è¿›è¡Œäº†è·¯å¾„ç¼©çŸ­ï¼Œä½¿å¾—æ‰€æœ‰åŒä¸€å®¶æ—çš„å…ƒç´ æŒ‡å‘çš„å‡ä¸ºæœ€é«˜çº§çš„ç¥–å…ˆ<br>     */<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] parent, <span class="hljs-keyword">int</span> index)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(parent[index]==index)    <span class="hljs-keyword">return</span> index;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> parent[index]=find(parent, parent[index]);<br>    &#125;<br>    <span class="hljs-comment">//**</span><br>    è¿™ä¸ªæ–¹æ³•å°±æ˜¯å¹¶æŸ¥é›†å½“ä¸­çš„â€œå¹¶â€ï¼Œ å¯ä»¥å°†ä¸€æ¡æ–°çš„æ ‘æåŠ å…¥åŸæœ‰çš„å›¾ä¸­<br>    */<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>[] union(<span class="hljs-keyword">int</span>[] parent, <span class="hljs-keyword">int</span> index1, <span class="hljs-keyword">int</span> index2)<br>    &#123;<br>        parent[find(parent, parent[index2])] = find(parent, index1);<br>        <span class="hljs-keyword">return</span> parent;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">int</span>[][] test = &#123;&#123;<span class="hljs-number">1.2</span>&#125;,&#123;<span class="hljs-number">1</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;&#125;;<br>        System.out.println(findRedundantConnection(test).toString());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h2><p>å°å¼Ÿå½“åˆåˆå…¥åŠ›æ‰£å°±é‡åˆ°å¹¶æŸ¥é›†æœˆï¼Œæ¯å¤©çš„æ¯æ—¥ä¸€é¢˜éƒ½æ˜¯å¹¶æŸ¥é›†â€¦â€¦<br>è·Ÿç€åšäº†å‡ é“æœ¬æ¥ä»¥ä¸ºè‡ªå·±å¯èƒ½æ°¸è¿œä¹Ÿå¿˜ä¸äº†è¿™ä¸ªçŸ¥è¯†ç‚¹äº†ï¼Œ<br>ç»“æœå‡ ä¸ªæœˆä¹‹åçœ‹è§ç¾¤é‡Œæœ‰å¤§ä½¬è®¨è®ºè¿™ä¸œè¥¿å‘ç°è‡ªå·±å¿˜å…‰å…‰äº†â€¦â€¦<br>é‚ä½œæ­¤ç¯‡ğŸ¤</p></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/">å¹¶æŸ¥é›†</a></div></div><p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/20210527193c/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">èƒ½çœ‹æ‡‚æ‰‹è¯­çš„æœºå™¨ç‹— å±•ç¤ºè§†é¢‘</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/20210506418d/"><span class="hidden-mobile">JavaWebå­¦ä¹ ç¬”è®°</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){var t=document.documentElement.getAttribute("data-user-color-scheme");t="dark"===t?"github-dark":"github-light",window.UtterancesThemeLight="github-light",window.UtterancesThemeDark="github-dark";var e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","Tars-knock/Tars-knock.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("label","utterances"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></div></div></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="X"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div><span id="timeDate">è½½å…¥å¤©æ•°...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">æ€»è®¿é—®é‡ <span id="leancloud-site-pv"></span> æ¬¡ </span><span id="leancloud-site-uv-container" style="display:none">æ€»è®¿å®¢æ•° <span id="leancloud-site-uv"></span> äºº</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script defer src="/js/leancloud.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",(function(){searchFunc("/local-search.xml","local-search-input","local-search-result")})),$("#modalSearch").on("shown.bs.modal",(function(){$("#local-search-input").focus()}))</script><script defer>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?000c8623e418a244bb21d401c84cbfc3";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="/js/boot.js"></script></body></html>